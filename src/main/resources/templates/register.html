<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입 - SecureLogistics</title>

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome Icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link href="/css/register.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
      <div class="shape"></div>
      <div class="shape"></div>
      <div class="shape"></div>
    </div>

    <div class="container">
      <div class="register-container">
        <!-- Vulnerability Alert -->
        <div class="vulnerability-alert">
          <h6 class="mb-1">
            <i class="fas fa-exclamation-triangle me-2"></i>
            Log4j 취약점 실습 환경
          </h6>
          <small>회원가입 과정에서 Log4j 취약점 확인 가능</small>
        </div>

        <div class="register-card">
          <!-- Header -->
          <div class="register-header">
            <i class="fas fa-user-plus fa-3x mb-3"></i>
            <h3 class="fw-bold">회원가입</h3>
            <p class="mb-0">Cloud Gardians 통합물류관리시스템</p>
          </div>

          <!-- Body -->
          <div class="register-body">
            <!-- Registration Form -->
            <form id="registerForm" onsubmit="return performRegister(event)">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-floating">
                    <input
                      type="text"
                      class="form-control"
                      id="username"
                      name="username"
                      placeholder="사용자명"
                      required
                      minlength="3"
                      maxlength="20"
                    />
                    <label for="username">
                      <i class="fas fa-user me-2"></i>사용자명
                    </label>
                    <div class="field-help text-warning">
                      ⚠️ Log4j 취약점 실습 대상 필드
                    </div>
                    <div
                      class="validation-feedback"
                      id="usernameValidation"
                    ></div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-floating">
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      name="email"
                      placeholder="이메일"
                      required
                    />
                    <label for="email">
                      <i class="fas fa-envelope me-2"></i>이메일
                    </label>
                    <div class="validation-feedback" id="emailValidation"></div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="form-floating">
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      name="password"
                      placeholder="비밀번호"
                      required
                      minlength="6"
                    />
                    <label for="password">
                      <i class="fas fa-lock me-2"></i>비밀번호
                    </label>
                    <div class="strength-indicator" id="passwordStrength"></div>
                    <div class="field-help">최소 6자리 이상 입력해주세요</div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-floating">
                    <input
                      type="password"
                      class="form-control"
                      id="confirmPassword"
                      name="confirmPassword"
                      placeholder="비밀번호 확인"
                      required
                    />
                    <label for="confirmPassword">
                      <i class="fas fa-lock me-2"></i>비밀번호 확인
                    </label>
                    <div
                      class="validation-feedback"
                      id="confirmPasswordValidation"
                    ></div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="form-floating">
                    <input
                      type="text"
                      class="form-control"
                      id="nickname"
                      name="nickname"
                      placeholder="닉네임"
                      maxlength="20"
                    />
                    <label for="nickname">
                      <i class="fas fa-id-badge me-2"></i>닉네임
                    </label>
                    <div class="field-help">선택사항 (실명 또는 별명)</div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-floating">
                    <select
                      class="form-select"
                      id="department"
                      name="department"
                    >
                      <option value="">부서 선택</option>
                      <option value="물류팀">물류팀</option>
                      <option value="창고관리팀">창고관리팀</option>
                      <option value="운송팀">운송팀</option>
                      <option value="고객서비스팀">고객서비스팀</option>
                      <option value="관리팀">관리팀</option>
                      <option value="기타">기타</option>
                    </select>
                    <label for="department">
                      <i class="fas fa-building me-2"></i>부서
                    </label>
                  </div>
                </div>
              </div>

              <div class="form-floating">
                <textarea
                  class="form-control"
                  id="introduction"
                  name="introduction"
                  placeholder="자기소개"
                  style="height: 80px"
                  maxlength="200"
                ></textarea>
                <label for="introduction">
                  <i class="fas fa-comment me-2"></i>자기소개 (선택)
                </label>
                <div class="field-help text-warning">
                  ⚠️ 이 필드도 Log4j 로깅 대상입니다
                </div>
              </div>

              <!-- Terms and Conditions -->
              <div class="terms-check">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="agreeTerms"
                    required
                  />
                  <label class="form-check-label" for="agreeTerms">
                    <strong>이용약관</strong> 및
                    <strong>개인정보 처리방침</strong>에 동의합니다.
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="agreeMarketing"
                  />
                  <label class="form-check-label" for="agreeMarketing">
                    마케팅 정보 수신에 동의합니다. (선택)
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="agreeLab"
                  />
                  <label class="form-check-label" for="agreeLab">
                    <span class="text-warning">
                      <i class="fas fa-exclamation-triangle me-1"></i>
                      이 계정이 <strong>Log4j 취약점 실습용</strong>임을
                      이해합니다.
                    </span>
                  </label>
                </div>
              </div>

              <button type="submit" class="btn btn-success btn-register">
                <i class="fas fa-user-plus me-2"></i>회원가입
              </button>
            </form>

            <!-- Quick Demo Registration -->
            <div class="text-center mb-3">
              <h6 class="text-muted">빠른 실습 계정 생성</h6>
              <div class="btn-group w-100" role="group">
                <button
                  class="btn btn-outline-primary btn-sm"
                  onclick="fillDemoAccount('user')"
                >
                  <i class="fas fa-user me-1"></i>일반 사용자
                </button>
                <button
                  class="btn btn-outline-success btn-sm"
                  onclick="fillDemoAccount('manager')"
                >
                  <i class="fas fa-user-tie me-1"></i>매니저
                </button>
                <button
                  class="btn btn-outline-warning btn-sm"
                  onclick="fillDemoAccount('vulnerable')"
                >
                  <i class="fas fa-bug me-1"></i>취약점 테스트
                </button>
              </div>
            </div>

            <!-- Login Link -->
            <div class="login-link">
              <p class="mb-2">이미 계정이 있으신가요?</p>
              <a href="/login" class="btn btn-outline-primary">
                <i class="fas fa-sign-in-alt me-2"></i>로그인
              </a>
            </div>
          </div>
        </div>

        <!-- Additional Info -->
        <div class="text-center mt-3">
          <small class="text-white">
            <i class="fas fa-shield-alt me-1"></i>
            이 시스템은 Log4j 취약점 교육을 위한 실습 환경입니다
          </small>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="/js/register.js"></script>
  </body>
</html>
